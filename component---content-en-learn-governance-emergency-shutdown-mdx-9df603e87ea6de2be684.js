(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{If06:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return o})),a.d(t,"default",(function(){return d}));var r=a("zLVn"),n=(a("q1tI"),a("7ljp")),l=a("z1h2"),o={},i={_frontmatter:o},s=l.a;function d(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(n.mdx)(s,Object.assign({},i,a,{components:t,mdxType:"MDXLayout"}),Object(n.mdx)("h1",null,"Emergency Shutdown"),Object(n.mdx)("p",null,"Emergency Shutdown is intended to be triggered in the case of a system upgrade or serious emergencies, such as long-term market irrationality, a hack, or a security breach."),Object(n.mdx)("h2",null,"Purpose"),Object(n.mdx)("p",null,"When triggered, Emergency Shutdown stops and shuts down the Maker Protocol while ensuring that all users, both Dai holders, and Vault users, receive the net value of assets they are entitled to under the Protocolâ€™s smart contract logic."),Object(n.mdx)("p",null,"However, the value of Collateral that Dai holders can redeem may vary, depending on the system surplus or deficit at the time of Emergency Shutdown. It is, therefore, possible that Dai holders will receive less or more than 1 USD worth of Collateral for 1 Dai."),Object(n.mdx)("h3",null,"Prioritizing Vault Owners"),Object(n.mdx)("p",null,"The Maker Protocol currently prioritizes Vault Owners over Dai Holders because:"),Object(n.mdx)("ul",null,Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},"Overcollateralized Vaults do not subsidize the Maker Protocol for undercollateralized Vaults during the current operation of the system, so it's consistent for Emergency Shutdown to have the same behavior. The main difference is that a potential haircut is transferred from MKR holders to DAI holders, as no assumptions can be made about the value of MKR after a shutdown.")),Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},"Giving priority to Vault owners to recover their excess Collateral (if their Vault is not undercollateralized) incentivizes them to maintain overcollateralization. This is important because the incentive remains even if an Emergency Shutdown seems likely, which ultimately makes the Protocol more resilient.")),Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},"Stability fees accrued pre-Emergency Shutdown are not waived by Emergency Shutdown. Vault owners may accept higher fees if they know they are protected from the collateralization levels of others, potentially resulting in a higher surplus during Emergency Shutdown scenarios as well as allowing for a higher Dai Savings Rate during normal operation."))),Object(n.mdx)("h2",null,"Initiating Shutdown"),Object(n.mdx)("p",null,"The process of initiating Emergency Shutdown is decentralized and controlled by MKR voters, who can trigger it by depositing MKR into the Emergency Shutdown Module."),Object(n.mdx)("p",null,"50,000 MKR must be deposited into the Emergency Shutdown Module to trigger an Emergency Shutdown. Once users deposit MKR into the Emergency Shutdown Module, it is immediately burned."),Object(n.mdx)("p",null,"Emergency Shutdown may or may not be initiated with a Redeployment Scenario to allow users to open new Vaults and have a new Dai token while claiming Collateral from the old system."),Object(n.mdx)("h2",null,"Emergency Shutdown Module"),Object(n.mdx)("p",null,"The Emergency Shutdown Module (ESM) is a contract with the ability to call ",Object(n.mdx)("inlineCode",{parentName:"p"},"End.cage()")," to trigger the Shutdown of the Maker Protocol."),Object(n.mdx)("p",null,"Emergency Shutdown stops and settles the Maker Protocol while ensuring that Dai holders and Vault users receive the net value of assets they are entitled to."),Object(n.mdx)("p",null,Object(n.mdx)("img",Object.assign({parentName:"p"},{src:"https://lh6.googleusercontent.com/tHGq8IsHybndRILRSF_pkAObTOPrcylSnBdN4DC7LDudq2EeH0K8Q9qEZgrQG-ozBtjwCWZtWPBbp-_tSnlP75nXRWcSMb4FzZsjCZvZBAPavGkJcsaoYDwIehDqE_6tlqp8KH3Y",alt:null}))),Object(n.mdx)("h2",null,"Shutdown Conditions"),Object(n.mdx)("ul",null,Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},"Dai no-race condition: Every Dai holder will be able to redeem the same relative quantity of collateral proportional to their Dai holdings, regardless of when they interact with the contract.")),Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},"Vault Parity: Vault Owners are prioritized, allowing them to withdraw their excess Collateral before Dai holders are able to access Collateral."),Object(n.mdx)("ul",{parentName:"li"},Object(n.mdx)("li",{parentName:"ul"},'At the time of Emergency Shutdown, individual Vaults, entire collateral types, or the Maker Protocol can be undercollateralized, which is when the value of debt exceeds the value of the Collateral ("negative equity"). Thus, the value of Collateral that Dai holders can redeem may vary, depending on the system surplus or deficit at the time of Emergency Shutdown. It is, therefore, possible that Dai holders will receive less or more than 1 USD worth of Collateral for 1 Dai.'))),Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},"Immediate Vault redemption: After Emergency Shutdown is initiated, Vault owners are allowed to free their Collateral immediately, provided that they execute all contract calls atomically.")),Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},"No off-chain calculations: The system does not require the cage authority to supply any off-chain calculated values (i.e., it can rely entirely on the last OSM feed prices).")),Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},"Vow Buffer Assistance: After Emergency Shutdown is initiated, any surplus or bad debt in the buffer acts as a reward or penalty distributed pro-rata to all Dai holders. For example, if 10% of total system debt is in the form of net surplus in the Vow, then Dai holders receive 10% more Collateral."))),Object(n.mdx)("h2",null,"Collateral Distribution"),Object(n.mdx)("h3",null,"Auction Settlement"),Object(n.mdx)("p",null,"The Emergency Shutdown Module includes a time delay to be determined by governance. The delay must expire before any exchange of Dai for Collateral can take place."),Object(n.mdx)("p",null,"The general guidance is that the delay should be long enough to ensure all auctions either finish or get skipped but there is no guarantee of this in the code."),Object(n.mdx)("h3",null,"For Vault Owners"),Object(n.mdx)("p",null,"Vault owners can retrieve excess collateral from their Vaults immediately after the initialization of Emergency Shutdown."),Object(n.mdx)("p",null,"This can be achieved using Vault front ends like ",Object(n.mdx)("a",Object.assign({parentName:"p"},{href:"https://oasis.app/borrow"}),"Oasis Borrow")," that have Emergency Shutdown support implemented, in addition to command-line tools."),Object(n.mdx)("h3",null,"For Dai Holders"),Object(n.mdx)("p",null,"Dai holders can, after a waiting period determined by MKR voters, swap their Dai for a relative share of all types of collateral in the system. The Maker Foundation will initially offer a web page for this specific use case."),Object(n.mdx)("p",null,"To claim Dai:"),Object(n.mdx)("ul",null,Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},"If your wallet has the viable interface to claim collateral or migrate your Dai, or it has a Dapp browser built into it, you may use the ",Object(n.mdx)("a",Object.assign({parentName:"p"},{href:"https://migrate.makerdao.com/"}),"migration portal")," to claim collateral and/or migrate.")),Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},"If your wallet does not support the above functionality, you must transfer your Dai to a new wallet that enables the functionality before proceeding to use the migration portal."))),Object(n.mdx)("p",null,"Dai holders always receive the same relative amount of collateral from the system, whether they are among the first or last people to process their claims."),Object(n.mdx)("p",null,"Dai holders may also sell their Dai to Keepers (if available) to avoid self-management of the different collateral types in the system."),Object(n.mdx)("h2",null,"Redeployment"),Object(n.mdx)("p",null,"Since the Maker Protocol is open source and decentralized, anyone can redeploy the system and decide with what configuration. Ideally, the parameters of redeployment should depend on the reason for the Emergency Shutdown, and should not be altered unilaterally and arbitrarily. What will likely happen is that the Maker governance community will come to decide on the most appropriate redeployment, or to launch a redeployment themselves with the appropriate configuration. Here is a rough example of a framework for protocol changes on redeployment:"),Object(n.mdx)("table",null,Object(n.mdx)("thead",{parentName:"table"},Object(n.mdx)("tr",{parentName:"thead"},Object(n.mdx)("th",Object.assign({parentName:"tr"},{align:null}),"Reason"),Object(n.mdx)("th",Object.assign({parentName:"tr"},{align:null}),"Solution"))),Object(n.mdx)("tbody",{parentName:"table"},Object(n.mdx)("tr",{parentName:"tbody"},Object(n.mdx)("td",Object.assign({parentName:"tr"},{align:null}),"Governance attack"),Object(n.mdx)("td",Object.assign({parentName:"tr"},{align:null}),"Fork out malicious MKR holders and reimburse MKR placed in the ESM in new redistribution, redeploy system with everything else as-is.")),Object(n.mdx)("tr",{parentName:"tbody"},Object(n.mdx)("td",Object.assign({parentName:"tr"},{align:null}),"Oracle attack"),Object(n.mdx)("td",Object.assign({parentName:"tr"},{align:null}),"Fork out Oracle module for a new one with a vulnerability fix, reimburse MKR placed in the ESM, redeploy system with everything else as-is.")),Object(n.mdx)("tr",{parentName:"tbody"},Object(n.mdx)("td",Object.assign({parentName:"tr"},{align:null}),"Black Swan event in the Markets"),Object(n.mdx)("td",Object.assign({parentName:"tr"},{align:null}),"Allow MKR voters to decide how best to address this event through new or improved system mechanics that can be added into the new deployment. Redeploy with the new improvements if necessary, reimburse the MKR placed in the ESM.")),Object(n.mdx)("tr",{parentName:"tbody"},Object(n.mdx)("td",Object.assign({parentName:"tr"},{align:null}),"Unwarranted Emergency Shutdown"),Object(n.mdx)("td",Object.assign({parentName:"tr"},{align:null}),"Fork out malicious MKR holders that triggered the ES, redeploy system with everything else as-is.")))),Object(n.mdx)("h2",null,"More Information"),Object(n.mdx)("p",null,"For technical information about the Shutdown of the Maker Protocol, please see the ",Object(n.mdx)("a",Object.assign({parentName:"p"},{href:"/learn/vaults/vaults-tutorial#emergency-shutdown-module/"}),"Emergency Shutdown Module Documentation"),"."),Object(n.mdx)("ul",null,Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},"Contract Name: ",Object(n.mdx)("inlineCode",{parentName:"p"},"esm.sol"))),Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},Object(n.mdx)("a",Object.assign({parentName:"p"},{href:"/learn/vaults/vaults-tutorial#emergency-shutdown-module/"}),"Associated MCD System Diagram"))),Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},Object(n.mdx)("a",Object.assign({parentName:"p"},{href:"https://github.com/makerdao/esm/blob/master/src/ESM.sol"}),"Contract Source"))),Object(n.mdx)("li",{parentName:"ul"},Object(n.mdx)("p",{parentName:"li"},Object(n.mdx)("a",Object.assign({parentName:"p"},{href:"https://etherscan.io/address/0x0581a0abe32aae9b5f0f68defab77c6759100085"}),"Etherscan")))))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---content-en-learn-governance-emergency-shutdown-mdx-9df603e87ea6de2be684.js.map